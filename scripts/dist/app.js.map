{"version":3,"sources":["../header-grid.js"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AAEX,MAAM,SAAS,GAAG,QAAQ,CAAC,cAAT,CAAyB,WAAzB,CAAlB;AAEA,MAAI,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAsB,MAAtB,CAAX;AACA,MAAI,OAAO,GAAG,IAAI,CAAC,SAAL,CAAe,QAAf,CAAuB,MAAvB,IAAkC,QAAlC,GAA6C,QAA3D;AACA,MAAI,SAAS,GAAG,IAAI,CAAC,SAAL,CAAe,QAAf,CAAuB,MAAvB,IAAkC,QAAlC,GAA6C,QAA7D;AAEA,MAAI,KAAK,GAAG,IAAI,KAAK,CAAC,KAAV,EAAZ;AACA,EAAA,KAAK,CAAC,UAAN,GAAmB,IAAI,KAAK,CAAC,KAAV,CAAiB,OAAjB,CAAnB;AAEA,MAAI,MAAM,GAAG,QAAQ,CAAC,aAAT,CAAsB,QAAtB,CAAb;AACA,MAAI,MAAM,GAAG,MAAM,CAAC,YAAP,GAAsB,CAAnC;AAEA,MAAI,QAAQ,GAAG,IAAI,KAAK,CAAC,aAAV,CAAuB;AAAG,IAAA,SAAS,EAAE;AAAd,GAAvB,CAAf;AACA,EAAA,QAAQ,CAAC,aAAT,CAAwB,MAAM,CAAC,gBAA/B;AACA,EAAA,QAAQ,CAAC,OAAT,CAAkB,MAAM,CAAC,UAAzB,EAAqC,MAArC;AACA,EAAA,SAAS,CAAC,WAAV,CAAuB,QAAQ,CAAC,UAAhC;AAEA,MAAI,MAAM,GAAG,IAAI,KAAK,CAAC,iBAAV,CAA6B,EAA7B,EAAiC,MAAM,CAAC,UAAP,GAAoB,MAArD,EAA6D,CAA7D,EAAgE,KAAhE,CAAb;AACA,EAAA,MAAM,CAAC,QAAP,CAAgB,GAAhB,CAAqB,CAArB,EAAwB,CAAxB,EAA2B,IAA3B,EApBW,CAsBX;;AAEA,MAAI,aAAa,GAAG;AAEnB,IAAA,QAAQ,EAAE;AACT,MAAA,MAAM,EAAE;AAAE,QAAA,IAAI,EAAE,GAAR;AAAa,QAAA,KAAK,EAAE;AAApB,OADC;AAET,MAAA,KAAK,EAAE;AAAE,QAAA,IAAI,EAAE,IAAR;AAAc,QAAA,KAAK,EAAE,IAAI,KAAK,CAAC,KAAV,CAAiB,SAAjB;AAArB,OAFE;AAGT,MAAA,KAAK,EAAE;AAAE,QAAA,IAAI,EAAE,GAAR;AAAa,QAAA,KAAK,EAAE;AAApB;AAHE,KAFS;AAQnB,IAAA,YAAY;AAAE;AAAF,yMARO;AAkBnB,IAAA,cAAc;AAAE;AAAF;AAlBK,GAApB,CAxBW,CAsDX;;AAEA,MAAI,UAAU,GAAG,IAAI,KAAK,CAAC,cAAV,CAAwB;AACxC,IAAA,QAAQ,EAAE,KAAK,CAAC,aAAN,CAAoB,KAApB,CAA2B,aAAa,CAAC,QAAzC,CAD8B;AAExC,IAAA,YAAY,EAAE,aAAa,CAAC,YAFY;AAGxC,IAAA,cAAc,EAAE,aAAa,CAAC,cAHU;AAIxC,IAAA,IAAI,EAAE,KAAK,CAAC,QAJ4B;AAKxC,IAAA,WAAW,EAAE;AAL2B,GAAxB,CAAjB,CAxDW,CAgEX;;AAEA,MAAI,SAAS,GAAG,IAAI,KAAK,CAAC,oBAAV,CAAgC,EAAhC,EAAoC,EAApC,EAAwC,EAAxC,CAAhB;AAEA,MAAI,SAAS,GAAG,MAAM,CAAC,SAAP,GAAmB,IAAI,KAAK,CAAC,iBAAV,CAA2B;AAC7D,IAAA,KAAK,EAAE;AADsD,GAA3B,CAAnC;AAIA,MAAI,KAAK,GAAG,EAAZ;AAAA,MACE,KAAK,GAAG,CADV;AAAA,MAEE,KAAK,GAAG,EAFV;;AAIA,OAAM,IAAI,CAAC,GAAG,CAAd,EAAiB,CAAC,GAAG,KAArB,EAA4B,CAAC,EAA7B,EAAmC;AAClC,SAAM,IAAI,CAAC,GAAG,CAAd,EAAiB,CAAC,GAAG,KAArB,EAA4B,CAAC,EAA7B,EAAmC;AAClC,WAAM,IAAI,CAAC,GAAG,CAAd,EAAiB,CAAC,GAAG,KAArB,EAA4B,CAAC,EAA7B,EAAmC;AAElC,YAAI,IAAI,GAAG,IAAI,KAAK,CAAC,IAAV,CAAgB,SAAhB,EAA2B,SAA3B,CAAX;AAEA,YAAM,CAAC,GAAG,OAAQ,CAAC,GAAG,KAAK,GAAG,CAApB,CAAV;AACA,YAAM,CAAC,GAAG,OAAQ,CAAC,GAAG,KAAK,GAAG,CAApB,CAAV;AACA,YAAM,CAAC,GAAG,OAAQ,CAAC,GAAG,KAAK,GAAG,CAApB,CAAV;AAEA,QAAA,IAAI,CAAC,QAAL,CAAc,GAAd,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB;AAEA,QAAA,KAAK,CAAC,GAAN,CAAW,IAAX;AAEA,YAAI,OAAO,GAAG,IAAI,KAAK,CAAC,IAAV,CAAgB,SAAhB,EAA2B,UAA3B,CAAd;AACA,QAAA,IAAI,CAAC,GAAL,CAAU,OAAV;AAEA;AACD;AACD,GA/FU,CAiGX;;;AAEA,MAAI,KAAK,GAAG,IAAI,KAAK,CAAC,OAAV,EAAZ;AAEA,MAAI,YAAY,GAAG,IAAI,KAAK,CAAC,OAAV,EAAnB;AAEA,EAAA,MAAM,CAAC,gBAAP,CAAuB,WAAvB,EAAqC,SAArC,EAAgD,KAAhD;;AACA,WAAS,SAAT,CAAmB,CAAnB,EAAoB;AACnB;AACA,QAAI,IAAI,GAAG,QAAQ,CAAC,UAAT,CAAoB,qBAApB,EAAX;AACA,IAAA,KAAK,CAAC,CAAN,GAAU,CAAE,CAAC,CAAC,OAAF,GAAY,IAAI,CAAC,IAAnB,IAA4B,IAAI,CAAC,KAAjC,GAAyC,CAAzC,GAA6C,CAAvD;AACA,IAAA,KAAK,CAAC,CAAN,GAAU,CAAE,CAAC,CAAC,OAAF,GAAY,IAAI,CAAC,GAAnB,IAA2B,IAAI,CAAC,MAAhC,GAAyC,CAAC,CAA1C,GAA8C,CAAxD;AAEA,IAAA,YAAY,CAAC,CAAb,GAAiB,KAAK,CAAC,CAAN,GAAU,GAA3B;AACA,IAAA,YAAY,CAAC,CAAb,GAAiB,KAAK,CAAC,CAAN,GAAU,GAA3B;AACA;;AAED,EAAA,MAAM,CAAC,gBAAP,CAAyB,QAAzB,EAAmC,MAAnC,EAA2C,KAA3C;;AACA,WAAS,MAAT,GAAkB;AACjB,IAAA,MAAM,GAAG,MAAM,CAAC,YAAP,GAAsB,CAA/B;AACA,IAAA,MAAM,CAAC,MAAP,GAAgB,MAAM,CAAC,UAAP,GAAoB,MAApC;AACA,IAAA,MAAM,CAAC,sBAAP;AACA,IAAA,QAAQ,CAAC,OAAT,CAAkB,MAAM,CAAC,UAAzB,EAAqC,MAArC;AACA;;AAED,EAAA,QAAQ,CAAC,gBAAT,CAA2B,IAA3B;;AAEA,WAAS,IAAT,GAAgB;AAEf,IAAA,IAAI,CAAE,MAAM,CAAC,QAAT,EAAmB,GAAnB,EAAwB,YAAY,CAAC,CAArC,CAAJ;AACA,IAAA,IAAI,CAAE,MAAM,CAAC,QAAT,EAAmB,GAAnB,EAAwB,YAAY,CAAC,CAArC,CAAJ;AAEA,IAAA,QAAQ,CAAC,MAAT,CAAiB,KAAjB,EAAwB,MAAxB;AAEA;;AAED,WAAS,IAAT,CAAe,MAAf,EAAuB,IAAvB,EAA6B,WAA7B,EAA2C;AAC1C,QAAI,MAAM,IAAI,MAAM,CAAC,IAAD,CAAN,KAAiB,WAA/B,EAA4C;AAC3C,MAAA,MAAM,CAAC,IAAD,CAAN,IAAgB,CAAC,WAAW,GAAG,MAAM,CAAC,IAAD,CAArB,IAA+B,IAA/C;;AAEA,UAAI,IAAI,CAAC,GAAL,CAAS,WAAW,GAAG,MAAM,CAAC,IAAD,CAA7B,IAAuC,KAA3C,EAAkD;AACjD,QAAA,MAAM,CAAC,IAAD,CAAN,GAAe,WAAf;AACA;AACD;AACD;AAEF,CA/IA","sourcesContent":["(function() {\r\n\r\n\tconst container = document.getElementById( 'header-bg' );\r\n\r\n\tvar body = document.querySelector('body');\r\n\tvar bgColor = body.classList.contains('dark') ? 0x333333 : 0xffffff;\r\n\tvar wireColor = body.classList.contains('dark') ? 0x444444 : 0xdddddd;\r\n\r\n\tvar scene = new THREE.Scene();\r\n\tscene.background = new THREE.Color( bgColor );\r\n\r\n\tvar header = document.querySelector('header');\r\n\tvar height = header.offsetHeight - 1;\r\n\r\n\tvar renderer = new THREE.WebGLRenderer({ antialias: true });\r\n\trenderer.setPixelRatio( window.devicePixelRatio );\r\n\trenderer.setSize( window.innerWidth, height );\r\n\tcontainer.appendChild( renderer.domElement );\r\n\r\n\tvar camera = new THREE.PerspectiveCamera( 30, window.innerWidth / height, 1, 10000 );\r\n\tcamera.position.set( 0, 0, 1500 );\r\n\r\n\t// -----------------------------------------------------------------\r\n\r\n\tvar OutlineShader = {\r\n\r\n\t\tuniforms: {\r\n\t\t\toffset: { type: 'f', value: 3.0 },\r\n\t\t\tcolor: { type: 'v3', value: new THREE.Color( wireColor ) },\r\n\t\t\talpha: { type: 'f', value: 0.8 }\r\n\t\t},\r\n\r\n\t\tvertexShader: /* glsl */ `\r\n\r\n\t\t\tuniform float offset;\r\n\r\n\t\t\tvoid main() {\r\n\t\t\t\tvec4 pos = modelViewMatrix * vec4( position + normal * offset, 1.0 );\r\n\t\t\t\tgl_Position = projectionMatrix * pos;\r\n\t\t\t}\r\n\t\t`,\r\n\r\n\t\tfragmentShader: /* glsl */ `\r\n\r\n\t\t\tuniform vec3 color;\r\n\t\t\tuniform float alpha;\r\n\r\n\t\t\tvoid main() {\r\n\t\t\t\tgl_FragColor = vec4( color, alpha );\r\n\t\t\t}\r\n\t\t`\r\n\r\n\t};\r\n\r\n\t// ----------------------------------------------------------\r\n\r\n\tvar outlineMat = new THREE.ShaderMaterial({\r\n\t\tuniforms: THREE.UniformsUtils.clone( OutlineShader.uniforms ),\r\n\t\tvertexShader: OutlineShader.vertexShader,\r\n\t\tfragmentShader: OutlineShader.fragmentShader,\r\n\t\tside: THREE.BackSide,\r\n\t\ttransparent: true\r\n\t});\r\n\r\n\t// ------------------------------------------------------------\r\n\r\n\tvar sphereGeo = new THREE.SphereBufferGeometry( 20, 20, 10 );\r\n\r\n\tvar sphereMat = window.sphereMat = new THREE.MeshBasicMaterial({\r\n\t\tcolor: bgColor\r\n\t});\r\n\r\n\tvar xgrid = 30,\r\n\t\t\tygrid = 9,\r\n\t\t\tzgrid = 10;\r\n\r\n\tfor ( let i = 0; i < xgrid; i ++ ) {\r\n\t\tfor ( let j = 0; j < ygrid; j ++ ) {\r\n\t\t\tfor ( let k = 0; k < zgrid; k ++ ) {\r\n\r\n\t\t\t\tvar mesh = new THREE.Mesh( sphereGeo, sphereMat );\r\n\r\n\t\t\t\tconst x = 200 * ( i - xgrid / 2 );\r\n\t\t\t\tconst y = 200 * ( j - ygrid / 2 );\r\n\t\t\t\tconst z = 200 * ( k - zgrid / 2 );\r\n\r\n\t\t\t\tmesh.position.set( x, y, z );\r\n\r\n\t\t\t\tscene.add( mesh );\r\n\r\n\t\t\t\tvar outline = new THREE.Mesh( sphereGeo, outlineMat );\r\n\t\t\t\tmesh.add( outline );\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// -----------------------------------------------------------------\r\n\r\n\tvar mouse = new THREE.Vector2();\r\n\r\n\tvar cameraTarget = new THREE.Vector3();\r\n\r\n\theader.addEventListener('mousemove', mousemove, false);\r\n\tfunction mousemove(e){\r\n\t\t// NDC -1 to 1\r\n\t\tvar rect = renderer.domElement.getBoundingClientRect();\r\n\t\tmouse.x = ( e.clientX - rect.left ) / rect.width * 2 - 1;\r\n\t\tmouse.y = ( e.clientY - rect.top ) / rect.height * -2 + 1;\r\n\r\n\t\tcameraTarget.x = mouse.x * 500;\r\n\t\tcameraTarget.y = mouse.y * 200;\r\n\t}\r\n\r\n\twindow.addEventListener( 'resize', resize, false );\r\n\tfunction resize() {\r\n\t\theight = header.offsetHeight - 1;\r\n\t\tcamera.aspect = window.innerWidth / height;\r\n\t\tcamera.updateProjectionMatrix();\r\n\t\trenderer.setSize( window.innerWidth, height );\r\n\t}\r\n\r\n\trenderer.setAnimationLoop( loop );\r\n\r\n\tfunction loop() {\r\n\r\n\t\tlerp( camera.position, 'x', cameraTarget.x );\r\n\t\tlerp( camera.position, 'y', cameraTarget.y );\r\n\r\n\t\trenderer.render( scene, camera );\r\n\r\n\t}\r\n\r\n\tfunction lerp( object, prop, destination ) {\r\n\t\tif (object && object[prop] !== destination) {\r\n\t\t\tobject[prop] += (destination - object[prop]) * 0.05;\r\n\r\n\t\t\tif (Math.abs(destination - object[prop]) < 0.001) {\r\n\t\t\t\tobject[prop] = destination;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n})();\r\n\r\n"],"file":"app.js"}