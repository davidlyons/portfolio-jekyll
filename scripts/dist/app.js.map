{"version":3,"sources":["../header-sphere.js"],"names":[],"mappings":"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","sourcesContent":["(function() {\r\n\r\n\tvar container = document.getElementById( 'header-bg' );\r\n\r\n\tvar body = document.querySelector('body');\r\n\tvar bgColor = body.classList.contains('dark') ? 0x333333 : 0xffffff;\r\n\tvar wireColor = body.classList.contains('dark') ? 0x444444 : 0xdddddd;\r\n\r\n\tvar scene = new THREE.Scene();\r\n\tscene.background = new THREE.Color( bgColor );\r\n\r\n\tvar header = document.querySelector('header');\r\n\tvar height = header.offsetHeight - 1;\r\n\r\n\tvar renderer = new THREE.WebGLRenderer({ antialias: true });\r\n\trenderer.setPixelRatio( window.devicePixelRatio );\r\n\trenderer.setSize( window.innerWidth, height );\r\n\tcontainer.appendChild( renderer.domElement );\r\n\r\n\tvar camera = new THREE.PerspectiveCamera( 20, window.innerWidth / height, .01, 1000 );\r\n\tcamera.position.set( 0, 0, 1.8 );\r\n\r\n\t// -----------------------------------------------------------------\r\n\r\n\tvar textureLoader = new THREE.TextureLoader();\r\n\r\n\tvar sphereGeo = new THREE.SphereBufferGeometry( 2, 32, 32 );\r\n\r\n\tvar sphereMat = window.sphereMat = new THREE.MeshBasicMaterial({\r\n\t\tcolor: wireColor,\r\n\t\talphaMap: textureLoader.load('/header-bg.png'),\r\n\t\tside: THREE.BackSide,\r\n\t\ttransparent: true,\r\n\t\topacity: 0.5\r\n\t});\r\n\r\n\tsphereMat.alphaMap.repeat.set( 24, 12 );\r\n\tsphereMat.alphaMap.wrapS = sphereMat.alphaMap.wrapT = THREE.RepeatWrapping;\r\n\r\n\tvar sphere = new THREE.Mesh( sphereGeo, sphereMat );\r\n\tsphere.position.y = -0.2;\r\n\tscene.add( sphere );\r\n\r\n\t// -----------------------------------------------------------------\r\n\r\n\tvar mouse = new THREE.Vector2();\r\n\r\n\tvar sphereTarget = new THREE.Euler();\r\n\r\n\tvar xrad = THREE.Math.degToRad(30);\r\n\tvar yrad = THREE.Math.degToRad(10);\r\n\r\n\theader.addEventListener('mousemove', mousemove, false);\r\n\tfunction mousemove(e){\r\n\t\t// NDC -1 to 1\r\n\t\tvar rect = renderer.domElement.getBoundingClientRect();\r\n\t\tmouse.x = ( e.clientX - rect.left ) / rect.width * 2 - 1;\r\n\t\tmouse.y = ( e.clientY - rect.top ) / rect.height * -2 + 1;\r\n\r\n\t\tsphereTarget.y = mouse.x * xrad;\r\n\t\tsphereTarget.x = - mouse.y * yrad;\r\n\t}\r\n\r\n\twindow.addEventListener( 'resize', resize, false );\r\n\tfunction resize() {\r\n\t\theight = header.offsetHeight - 1;\r\n\t\tcamera.aspect = window.innerWidth / height;\r\n\t\tcamera.updateProjectionMatrix();\r\n\t\trenderer.setSize( window.innerWidth, height );\r\n\t}\r\n\r\n\trenderer.setAnimationLoop( loop );\r\n\r\n\tfunction loop() {\r\n\r\n\t\tlerp( sphere.rotation, 'x', sphereTarget.x );\r\n\t\tlerp( sphere.rotation, 'y', sphereTarget.y );\r\n\r\n\t\trenderer.render( scene, camera );\r\n\r\n\t}\r\n\r\n\tfunction lerp( object, prop, destination ) {\r\n\t\tif (object && object[prop] !== destination) {\r\n\t\t\tobject[prop] += (destination - object[prop]) * 0.1;\r\n\r\n\t\t\tif (Math.abs(destination - object[prop]) < 0.001) {\r\n\t\t\t\tobject[prop] = destination;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n})();\r\n\r\n"],"file":"app.js"}